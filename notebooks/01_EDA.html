<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.25">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Mayank Lal">
<meta name="dcterms.date" content="2025-11-15">

<title>Credit Risk Scorecard Model - EDA</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="01_EDA_files/libs/clipboard/clipboard.min.js"></script>
<script src="01_EDA_files/libs/quarto-html/quarto.js" type="module"></script>
<script src="01_EDA_files/libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="01_EDA_files/libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="01_EDA_files/libs/quarto-html/popper.min.js"></script>
<script src="01_EDA_files/libs/quarto-html/tippy.umd.min.js"></script>
<script src="01_EDA_files/libs/quarto-html/anchor.min.js"></script>
<link href="01_EDA_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="01_EDA_files/libs/quarto-html/quarto-syntax-highlighting-7b89279ff1a6dce999919e0e67d4d9ec.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="01_EDA_files/libs/bootstrap/bootstrap.min.js"></script>
<link href="01_EDA_files/libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="01_EDA_files/libs/bootstrap/bootstrap-b58ec4c17b101be5dd00f3f7fbc7c95b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script src="01_EDA_files/libs/kePrint-0.0.1/kePrint.js"></script>
<link href="01_EDA_files/libs/lightable-0.0.1/lightable.css" rel="stylesheet">


</head>

<body class="fullcontent quarto-light">

<div id="quarto-content" class="page-columns page-rows-contents page-layout-article">

<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Credit Risk Scorecard Model - EDA</h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Mayank Lal </p>
          </div>
  </div>
    
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">November 15, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="overview" class="level2">
<h2 class="anchored" data-anchor-id="overview">Overview</h2>
<p>There are <strong>593994</strong> observations (unique accounts) with <strong>thirteen</strong> features:</p>
<ul>
<li>ID</li>
<li>Annual Income</li>
<li>Debt to Income Ratio</li>
<li>Credit Score</li>
<li>Loan Amount</li>
<li>Interest Rate</li>
<li>Gender</li>
<li>Martial Status</li>
<li>Education Level</li>
<li>Employment Status</li>
<li>Loan Purpose</li>
<li>Grade Sub-grade</li>
<li>Loan Paid Back (Target Variable)</li>
</ul>
</section>
<section id="data-summary" class="level2">
<h2 class="anchored" data-anchor-id="data-summary">Data Summary</h2>
<p>We will look at the summary statistics of all variables. First, let’s have a look at the summary statistics of <strong>numeric variables</strong> in the dataset.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<caption>Summary Statistics of Numeric Variables</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">N</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Missing</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Mean</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Std. Dev.</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Min</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">id</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">296996</td>
<td style="text-align: left;">171471</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">593993</td>
</tr>
<tr class="even">
<td style="text-align: left;">annual_income</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">48212</td>
<td style="text-align: left;">26712</td>
<td style="text-align: left;">6002</td>
<td style="text-align: left;">393382</td>
</tr>
<tr class="odd">
<td style="text-align: left;">debt_to_income_ratio</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.12</td>
<td style="text-align: left;">0.069</td>
<td style="text-align: left;">0.011</td>
<td style="text-align: left;">0.63</td>
</tr>
<tr class="even">
<td style="text-align: left;">credit_score</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">681</td>
<td style="text-align: left;">55</td>
<td style="text-align: left;">395</td>
<td style="text-align: left;">849</td>
</tr>
<tr class="odd">
<td style="text-align: left;">loan_amount</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">15020</td>
<td style="text-align: left;">6927</td>
<td style="text-align: left;">500</td>
<td style="text-align: left;">48960</td>
</tr>
<tr class="even">
<td style="text-align: left;">interest_rate</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">12</td>
<td style="text-align: left;">2</td>
<td style="text-align: left;">3.2</td>
<td style="text-align: left;">21</td>
</tr>
<tr class="odd">
<td style="text-align: left;">loan_paid_back</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">0.8</td>
<td style="text-align: left;">0.4</td>
<td style="text-align: left;">0</td>
<td style="text-align: left;">1</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>As seen from the above table, there are five numeric features - Annual Income, Debt to Income Ratio, Credit Score, Loan Amount and Interest Rate - that can be seen as predictor variables. Out of these five predictor variables, three variables - <em>DTI, Credit Score and Interest Rate</em> - can be further binned to represent different bands. While we need to look at correlation between DTI, Annual Income and Loan Amount, we also can derive another feature by taking ratio of Loan Amount to Annual Income.</p>
<p>In addtion to these variables, there is one unique identifier variable, ID, that represents unique customers and can be used to remove duplicates from the dataset.</p>
<p>Finally, there is target variable - Loan Paid Back - which we are going to model in our classification models.</p>
<p>Let’s have a look at summary statistics of <strong>factor variables</strong>.</p>
<div class="cell">
<div class="cell-output-display">
<table class="table caption-top table-sm table-striped small">
<caption>Summary Statistics of Character Variables</caption>
<thead>
<tr class="header">
<th style="text-align: left;" data-quarto-table-cell-role="th">Variable</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">N</th>
<th style="text-align: left;" data-quarto-table-cell-role="th">Percent</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;">gender</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">... Female</td>
<td style="text-align: left;">306175</td>
<td style="text-align: left;">52%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Male</td>
<td style="text-align: left;">284091</td>
<td style="text-align: left;">48%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... Other</td>
<td style="text-align: left;">3728</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">marital_status</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">... Divorced</td>
<td style="text-align: left;">21312</td>
<td style="text-align: left;">4%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Married</td>
<td style="text-align: left;">277239</td>
<td style="text-align: left;">47%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... Single</td>
<td style="text-align: left;">288843</td>
<td style="text-align: left;">49%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Widowed</td>
<td style="text-align: left;">6600</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="even">
<td style="text-align: left;">education_level</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Bachelor's</td>
<td style="text-align: left;">279606</td>
<td style="text-align: left;">47%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... High School</td>
<td style="text-align: left;">183592</td>
<td style="text-align: left;">31%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Master's</td>
<td style="text-align: left;">93097</td>
<td style="text-align: left;">16%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... Other</td>
<td style="text-align: left;">26677</td>
<td style="text-align: left;">4%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... PhD</td>
<td style="text-align: left;">11022</td>
<td style="text-align: left;">2%</td>
</tr>
<tr class="even">
<td style="text-align: left;">employment_status</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Employed</td>
<td style="text-align: left;">450645</td>
<td style="text-align: left;">76%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... Retired</td>
<td style="text-align: left;">16453</td>
<td style="text-align: left;">3%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Self-employed</td>
<td style="text-align: left;">52480</td>
<td style="text-align: left;">9%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... Student</td>
<td style="text-align: left;">11931</td>
<td style="text-align: left;">2%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Unemployed</td>
<td style="text-align: left;">62485</td>
<td style="text-align: left;">11%</td>
</tr>
<tr class="even">
<td style="text-align: left;">loan_purpose</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Business</td>
<td style="text-align: left;">35303</td>
<td style="text-align: left;">6%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... Car</td>
<td style="text-align: left;">58108</td>
<td style="text-align: left;">10%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Debt consolidation</td>
<td style="text-align: left;">324695</td>
<td style="text-align: left;">55%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... Education</td>
<td style="text-align: left;">36641</td>
<td style="text-align: left;">6%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Home</td>
<td style="text-align: left;">44118</td>
<td style="text-align: left;">7%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... Medical</td>
<td style="text-align: left;">22806</td>
<td style="text-align: left;">4%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... Other</td>
<td style="text-align: left;">63874</td>
<td style="text-align: left;">11%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... Vacation</td>
<td style="text-align: left;">8449</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">grade_subgrade</td>
<td style="text-align: left;">593994</td>
<td style="text-align: left;"></td>
</tr>
<tr class="even">
<td style="text-align: left;">... A1</td>
<td style="text-align: left;">1600</td>
<td style="text-align: left;">0%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... A2</td>
<td style="text-align: left;">2018</td>
<td style="text-align: left;">0%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... A3</td>
<td style="text-align: left;">2066</td>
<td style="text-align: left;">0%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... A4</td>
<td style="text-align: left;">1701</td>
<td style="text-align: left;">0%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... A5</td>
<td style="text-align: left;">2471</td>
<td style="text-align: left;">0%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... B1</td>
<td style="text-align: left;">14344</td>
<td style="text-align: left;">2%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... B2</td>
<td style="text-align: left;">15167</td>
<td style="text-align: left;">3%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... B3</td>
<td style="text-align: left;">13926</td>
<td style="text-align: left;">2%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... B4</td>
<td style="text-align: left;">13877</td>
<td style="text-align: left;">2%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... B5</td>
<td style="text-align: left;">13937</td>
<td style="text-align: left;">2%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... C1</td>
<td style="text-align: left;">53363</td>
<td style="text-align: left;">9%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... C2</td>
<td style="text-align: left;">54443</td>
<td style="text-align: left;">9%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... C3</td>
<td style="text-align: left;">58695</td>
<td style="text-align: left;">10%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... C4</td>
<td style="text-align: left;">55957</td>
<td style="text-align: left;">9%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... C5</td>
<td style="text-align: left;">53317</td>
<td style="text-align: left;">9%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... D1</td>
<td style="text-align: left;">37029</td>
<td style="text-align: left;">6%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... D2</td>
<td style="text-align: left;">34432</td>
<td style="text-align: left;">6%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... D3</td>
<td style="text-align: left;">36694</td>
<td style="text-align: left;">6%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... D4</td>
<td style="text-align: left;">35097</td>
<td style="text-align: left;">6%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... D5</td>
<td style="text-align: left;">32101</td>
<td style="text-align: left;">5%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... E1</td>
<td style="text-align: left;">6891</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... E2</td>
<td style="text-align: left;">6372</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... E3</td>
<td style="text-align: left;">7075</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... E4</td>
<td style="text-align: left;">8036</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... E5</td>
<td style="text-align: left;">6084</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... F1</td>
<td style="text-align: left;">5534</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... F2</td>
<td style="text-align: left;">5203</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... F3</td>
<td style="text-align: left;">5082</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="even">
<td style="text-align: left;">... F4</td>
<td style="text-align: left;">5535</td>
<td style="text-align: left;">1%</td>
</tr>
<tr class="odd">
<td style="text-align: left;">... F5</td>
<td style="text-align: left;">5947</td>
<td style="text-align: left;">1%</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>As seen from above table, there are six character variables - <em>Gender, Marital Status, Education Level, Employment Status, Loan Purpose and Grade Sub-grade</em>.</p>
<p>Loan Purpose and Grade Sub-grade has more than five levels and needs to be rationalized to lower number of categories.</p>
</section>
<section id="univariate-analysis" class="level2">
<h2 class="anchored" data-anchor-id="univariate-analysis">Univariate Analysis</h2>
<p>In Univariate Analysis, we look at the distribution of predictor variables - both numeric and character.</p>
<section id="distribution-of-target-variable" class="level3">
<h3 class="anchored" data-anchor-id="distribution-of-target-variable">Distribution of Target Variable</h3>
<p>Loan Paid Back (<strong>loan_paid_back</strong>) is the target variable for our classification models. This means that our objective is to predict the probability of a customer to pay back his/her/their loan. Let’s have a look at its distribution.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/target_variable_train-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>It is right-skewed distribution. Mostly belongs to loan paid back category. As it is a skewed dataset, we need to apply undersampling or oversampling.</p>
</section>
<section id="distribution-of-numeric-variables" class="level3">
<h3 class="anchored" data-anchor-id="distribution-of-numeric-variables">Distribution of numeric variables</h3>
<p>There are five numeric variables in the dataset. Let’s have a look at their histogram.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/numeric_dist-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/numeric_dist-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/numeric_dist-3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/numeric_dist-4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/numeric_dist-5.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Summary of numeric variables</strong>:</p>
<ul>
<li>Annual Income is left-skewed.</li>
<li>Debt to Income Ratio is left-skewed.</li>
<li>Credit Score is normal distributed with skewness towards right and outliers towards left as well.</li>
<li>Loan Amount is skewed towards left with a long right tail.</li>
<li>Interest Rate is normally distributed.</li>
</ul>
</section>
<section id="distribution-of-categorical-variables" class="level3">
<h3 class="anchored" data-anchor-id="distribution-of-categorical-variables">Distribution of categorical variables</h3>
<p>There are six categorical variables in the dataset. Let’s have a look look at their bar plot.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/cat_dist-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/cat_dist-2.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/cat_dist-3.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/cat_dist-4.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/cat_dist-5.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/cat_dist-6.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p><strong>Summary of categorical variables</strong>:</p>
<ul>
<li>Gender is nearly equally distributed between male and female. Few accounts are there in other as well.</li>
<li>Marital Status is nearly equally distributed between married and single. Other two categories are Divorced and Widowed.</li>
<li>Education Level has five levels. Majority of the accounts are in Bachelor’s, High School and Masters. Two other categories are PhD and Other.</li>
<li>Employment Status has five levels. Majority of the customers are employed.</li>
<li>Loan Purpose is dominated by Debt consolidation. In additon, there are seven more categories which can be combined into one category.</li>
<li>There are grades with subgrades as well. Grades are from A to F. Each grade has five sub-levels as well. Most of the accounts are in C and D grade. Granularity can be reduced.</li>
<li>One key finding is that 55% of the loans have been taken for <strong>Debt consolidation</strong>. This means that they have been taken out a new loan to pay off multiple existing debts.</li>
</ul>
</section>
</section>
<section id="bivariate-analysis" class="level2">
<h2 class="anchored" data-anchor-id="bivariate-analysis">Bivariate Analysis</h2>
<p>In bivariate analysis, we will look at the relationship between predictor variables and target variable.</p>
<section id="debt-to-income-ratio-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="debt-to-income-ratio-x-loan-paid-back">Debt to Income Ratio x Loan Paid Back</h3>
<p><strong>Debt to Income Ratio</strong> is a ratio of total debt payments divided by gross income (before tax) expressed as percentage, usually on either a monthly or annual basis.</p>
<p>It is one of the most important feature to understand the credit risk from an applicant.</p>
<p>Let’s have a look at its relationship with regards to the target variable.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/dti-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see for the chart above, the distribution of DTI is skewed more towards left when Loan Paid Back is 1. It is in line with business expectation that the accounts with higher DTI have lower probability of paying back their loan.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/dti_outlier-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>From the box plot, it can be seen that the median debt-to-income ratio of the customers who have paid back their loan is lower than the customers who didn’t pay back their loan.</p>
</section>
<section id="credit-score-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="credit-score-x-loan-paid-back">Credit Score x Loan Paid Back</h3>
<p><strong>Credit Score</strong> is an indicator of an individual’s creditworthiness (ability to pay a loan back on time).</p>
<p>It is generally provided by external credit agencies to a financial institution and is one of the key metric to evaluate credit risk of an individual/applicant.</p>
<p>Let’s have a look at its relationship with regards to the target variable.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/credit_score-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see for the chart above, lower credit score customers are in higher concentration in the bucket where customer didn’t pay back their loans.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/credit_score_outlier-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>From the box plot, it can be seen that the credit score of the customers who have paid back their loan is higher than the customers who didn’t pay back their loan.</p>
</section>
<section id="interest-rate-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="interest-rate-x-loan-paid-back">Interest Rate x Loan Paid Back</h3>
<p><strong>Interest Rate</strong> is the amount of interest due per period, as a proportion of the amount lent, deposited, or borrowed.</p>
<p>It is generally decided by the financial institution as a function of central bank’s lending rate to the bank and credit worthiness of the customer/applicant.</p>
<p>Let’s have a look at its relationship with regards to the target variable.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/interest_rate-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see for the chart above, the likelihood of loan repayment goes down with higher interest rate. But given the overlap between the distirbutions, it doesn’t seem to have a good predictive power.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/interest_rate_outlier-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>From the box plot, it can be seen that the interest rate of the customers who have paid back their loan is lower than the customers who didn’t pay back their loan.</p>
</section>
<section id="loan-amount-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="loan-amount-x-loan-paid-back">Loan Amount x Loan Paid Back</h3>
<p><strong>Loan Amount</strong> is the amount that has been borrowed by the customer.</p>
<p>My priori is that this variable doesn’t have enough predicitive power on its own. But with another variable like annual income, it might have better predicitive power. On the least, I expect that the accounts with higher loan amount will have higher likelihood of defaulting on loan payment.</p>
<p>Let’s have a look at its relationship with regards to the target variable.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/loan_amount-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see for the chart above, the distribution of the customers who paid back their loan is very close to customers who didn’t pay back their loan. As expected, it doesn’t seem to have a good predictive power.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/loan_amount_outlier-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>From the box plot, it can be seen that the loan amount of the customers who have paid back their loan is similar to the customers who didn’t pay back their loan.</p>
</section>
<section id="annual-income-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="annual-income-x-loan-paid-back">Annual Income x Loan Paid Back</h3>
<p><strong>Annual Income</strong> is the total amount of money an individual or business earns in a year from all sources, such as salary, bonuses, investments, and other earnings, before any deductions are taken.</p>
<p>My priori is for this variable is same as that of Loan Amount. On the least, I expect that the accounts with higher annual income will have higher likelihood of repaying their loan.</p>
<p>Let’s have a look at its relationship with regards to the target variable.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/annual_income-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see for the chart above, the distribution of the customers who paid back their loan is very similar to the customers who didn’t pay back their loan. As expected, it doesn’t seem to have a good predictive power.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/annual_income_outlier-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>From the box plot, it can be seen that the annual income of the customers who have paid back their loan is similar to the customers who didn’t pay back their loan.</p>
</section>
<section id="gender-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="gender-x-loan-paid-back">Gender x Loan Paid Back</h3>
<p>Looking at <strong>Gender</strong> and its relationship with regards to the target variable can help us understand if probability of repayment of loan is better for women than men. The priori is based on research that shows women tend to exhibit more prudent financial behaviors in some areas, such as saving and long-term planning, while men tend to take more risks with investments.</p>
<p>Let’s have a look at the chart below.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/gender-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see for the chart above, there doesn’t seem to be any difference in the likelihood of loan repayment due to gender.</p>
</section>
<section id="marital-status-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="marital-status-x-loan-paid-back">Marital Status x Loan Paid Back</h3>
<p>Looking at <strong>Marital Status</strong> and its relationship with regards to the target variable can help us understand if probability of repayment of loan is better for customers with family. The priori is based on research that shows folks with families will be more prudent in their financial behaviors.</p>
<p>Let’s have a look at the chart below.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/marital_status-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see for the chart above, there doesn’t seem to be any difference in the likelihood of loan repayment due to marital status.</p>
</section>
<section id="education-level-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="education-level-x-loan-paid-back">Education Level x Loan Paid Back</h3>
<p>Looking at <strong>Education Level</strong> and its relationship with regards to the target variable can help us understand if probability of repayment of loan is better for customers with higher education levels. The priori is based on research that shows folks with better education levels will be more prudent in their financial behaviors.</p>
<p>Let’s have a look at the chart below.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/education_level-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see for the chart above, there doesn’t seem to be any difference in the likelihood of loan repayment due to education level.</p>
</section>
<section id="employment-status-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="employment-status-x-loan-paid-back">Employment Status x Loan Paid Back</h3>
<p>Looking at <strong>Employment Status</strong> and its relationship with regards to the target variable can help us understand if probability of repayment of loan is better for customers with employment. The priori is based on research that shows folks with employment will be more prudent in their financial behaviors.</p>
<p>Let’s have a look at the chart below.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/employment_status-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see for the chart above, customers who are unemployed or student are less likely to pay back their loan.</p>
</section>
<section id="loan-purpose-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="loan-purpose-x-loan-paid-back">Loan Purpose x Loan Paid Back</h3>
<p>As the name suggests, <strong>Loan Purpose</strong> tells us the purpose for which the customer has taken their loan. Given what we have seen in univariate analysis, majority of customer have taken their loan to repay their earlier loans.</p>
<p>Let’s see if the other categories show difference between both classes of target variable.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/loan_purpose-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>From the chart above, it doesn’t seem that the other categories can help us distinguish between the two classes of our target variable. So, it is safe to say that we can combine other categories into one.</p>
</section>
<section id="grade-with-sub-grade-x-loan-paid-back" class="level3">
<h3 class="anchored" data-anchor-id="grade-with-sub-grade-x-loan-paid-back">Grade with Sub-grade x Loan Paid Back</h3>
<p>Like Credit Score, Loan grades and subgrades are a classification system used by lenders to assess the credit risk of a borrower.</p>
<p>The priori is here that the loan grades like A denotes high quality loans. So there is high likelihood of repayment by these set of loans.</p>
<p>Let’s see if the data validates our priori.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/grade_subgrade-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>From the chart above, it looks that the likelihood of repayment worsens as we go from higher grade to lower grade. Also, we can reduce the number of categories here by combining subgrades into one grade.</p>
</section>
</section>
<section id="monotonicity-analysis" class="level2">
<h2 class="anchored" data-anchor-id="monotonicity-analysis">Monotonicity Analysis</h2>
<p>In this section, we will perform monotonicity analysis to check whether the relationship between each predictor and the target variable follows a consistent increasing or decreasing trend. Variables with monotonic behavior are easier to model and interpret, especially in logistic regression and credit risk scorecards.</p>
<p>For numeric variables, the data will be binned, and the payment rate (good rate) is calculated for each bin to assess whether the trend is smooth and one directional.</p>
<p>Let’s have a look at the monotonicity of numeric variables after quantile binning.</p>
<section id="bubble-plot-of-debt-to-income-ratio-dti" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-debt-to-income-ratio-dti">Bubble Plot of Debt-to-Income Ratio (DTI)</h3>
<p>First, we will look at the relationship between DTI and Good Rate (Rate of Payment of Loan).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/dti_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As it can be seen from the above chart, the loan repayment rate decreases with increasing DTI, confirming our business intiuition that higher debt burden corresponds to higher default risk.</p>
</section>
<section id="bubble-plot-of-credit-score" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-credit-score">Bubble Plot of Credit Score</h3>
<p>Now, let’s look at the relationship between Credit Score and Good Rate (Rate of Payment of Loan).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/credit_score_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As it can be seen from the above chart, the loan repayment rate increases with increasing Credit Score, confirming our business intiuition that better credit score corresponds to lower default risk.</p>
</section>
<section id="bubble-plot-of-interest-rate" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-interest-rate">Bubble Plot of Interest Rate</h3>
<p>Next, we will look at the relationship between Interest Rate and Good Rate (Rate of Payment of Loan).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/interest_rate_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As it can be seen from the above chart, the loan repayment rate decreases with increasing Interest Rate, confirming our business intiuition that increasing interest rate corresponds to higher default risk.</p>
</section>
<section id="bubble-plot-of-loan-to-income-ratio-lti" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-loan-to-income-ratio-lti">Bubble Plot of Loan to Income Ratio (LTI)</h3>
<p>Here, instead of creating separate bubble plots for loan amount and annual income, I have derived another variable using them called <strong>Loan to Income Ratio</strong>. As compared to DTI, LTI tells us the affordability of this specific loan. Its focus is on the capacity risk of the customer, i.e., the ability to sustain new loan. Let’s have a look at the relationship between LTI and Good Rate (Rate of Payment of Loan).</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/lti_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As it can be seen from the above chart, the loan repayment rate has a non-monotonic relationship with LTI. The repayment probability first rises and then falls.</p>
</section>
<section id="bubble-plot-of-gender" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-gender">Bubble Plot of Gender</h3>
<p>In this section, we will look at bubble plot of categorical variables. First, let’s look at bubble plot of Gender.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/gender_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see from the above chart, the loan repayment rate of all three categories of gender are very close to each other as we have seen previously in the bar chart as well. This further confirms it. A general order that gets revealed is: Female &gt; Male &gt; Other.</p>
</section>
<section id="bubble-plot-of-marital-status" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-marital-status">Bubble Plot of Marital Status</h3>
<p>Next, we will look at bubble plot of Marital Status.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/marital_status_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see from the above chart, the loan repayment rate of all three categories of marital status are very close to each other as we have seen previously in the bar chart as well. This further confirms it. A general order that gets revealed is: Married &gt; Single &gt; Divorced &gt; Widowed.</p>
</section>
<section id="bubble-plot-of-education-level" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-education-level">Bubble Plot of Education Level</h3>
<p>Now, we will look at bubble plot of Education Level.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/education_level_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see from the above chart, the loan repayment rate of all three categories of education level are very close to each other as we have seen previously in the bar chart as well. This further confirms it. A general order that gets revealed is: PhD &gt; High School &gt; Master’s &gt; Other &gt; Bachelor’s.</p>
</section>
<section id="bubble-plot-of-employment-status" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-employment-status">Bubble Plot of Employment Status</h3>
<p>Here we will look at bubble plot of Employment Status.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/employment_status_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see from the above chart, the loan repayment rate of all three categories of employment status show a monotonic downward trend as we have seen previously in the bar chart as well. This further confirms it. A general order that gets revealed is: Retired &gt; Employed &gt; Self-employed &gt; Student &gt; Unemployed.</p>
</section>
<section id="bubble-plot-of-loan-purpose" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-loan-purpose">Bubble Plot of Loan Purpose</h3>
<p>In below chart, we will look at bubble plot of Loan Purpose.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/loan_purpose_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see from the above chart, the loan repayment rate of all three categories of loan purpose are very close to each other as we have seen previously in the bar chart as well. This further confirms it.</p>
</section>
<section id="bubble-plot-of-grade-sub-grade" class="level3">
<h3 class="anchored" data-anchor-id="bubble-plot-of-grade-sub-grade">Bubble Plot of Grade Sub-grade</h3>
<p>Finally, let’s have look at bubble plot of grade sub-grade.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/grade_subgrade_mono-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As we can see from the above chart, the loan repayment rate of all three categories of grade sub-grade show a clear monotonic downward trend as we have seen previously in the bar chart as well. This further confirms it. A general order that gets revealed is: A &gt; B &gt; C &gt; D &gt; E &gt; F.</p>
</section>
</section>
<section id="correlation-analysis" class="level2">
<h2 class="anchored" data-anchor-id="correlation-analysis">Correlation Analysis</h2>
<p>In this section, we will perform correlation analysis to identify variables that convery similar information, which can cause redundancy and instability in models. Since most numeric variables in this dataset are skewed and show monotonic rather than linear relationships, <strong>Spearman’s rank correlation</strong> is used instead of Pearson’s. It is more robust to outliers and better suited for non-nomral, monotoninc data common in credit risk modelling.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/corr-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As seen from the above chart, it can be concluded that the numeric predictors show low to moderate correlations, with credit score and DTI displaying expected opposing trends. The weak pairwise correlations indicate low redundancy, making all variables suitable for further modeling and feature selection.</p>
</section>
<section id="interaction-analysis" class="level2">
<h2 class="anchored" data-anchor-id="interaction-analysis">Interaction Analysis</h2>
<p>In this section, we will try to identify variable pairs which can have interaction between them. We will use business intuition and a simple decision tree to identify these pair of variables.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/tree-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>Based on the decision tree as shown above and business intuition, we have shortlisted following pairs:</p>
<ul>
<li>Employment Status x DTI</li>
<li>DTI x Credit Score</li>
<li>Interest Rate x Credit Score</li>
<li>Loan Purpose x LTI</li>
<li>Employment Status x Grade Sub-grade</li>
</ul>
<section id="line-plot-of-employment-status-by-dti" class="level3">
<h3 class="anchored" data-anchor-id="line-plot-of-employment-status-by-dti">Line Plot of Employment Status by DTI</h3>
<p>Let’s start by looking at line plot to understand the interaction between Employment Status and DTI.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/es_dti_int-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As seen from the above chart, it can be clearly seen that customers with the employment status - Employed, Retired and Self-employed have higher repayment rate across DTI Bins than the customers with the employment status - Student and Unemployed.</p>
<p>So, their interaction can help us identify customers with higher or lower default risk.</p>
</section>
<section id="line-plot-of-loan-purpose-by-lti" class="level3">
<h3 class="anchored" data-anchor-id="line-plot-of-loan-purpose-by-lti">Line Plot of Loan Purpose by LTI</h3>
<p>Next, we will look at line plot to understand the interaction between Loan Purpose and LTI.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/ls_lti_int-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As seen from the above chart, there doesn’t seem to be an interaction between LTI and Loan purpose as the loan repayment rate remains stable across all DTI bins and in similar range for all categories of loan purposes.</p>
</section>
<section id="heatmap-of-dti-by-credit-score" class="level3">
<h3 class="anchored" data-anchor-id="heatmap-of-dti-by-credit-score">Heatmap of DTI by Credit Score</h3>
<p>We will use heatmap to understand the interaction between DTI and Credit Score.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/cs_dti_int-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As seen from the above chart, it can be clearly seen that the loan repayment rate goes down as the credit score falls and DTI increases.Their interaction can also help us identify customers with higher or lower default risk.</p>
</section>
<section id="heatmap-of-interest-rate-by-credit-score" class="level3">
<h3 class="anchored" data-anchor-id="heatmap-of-interest-rate-by-credit-score">Heatmap of Interest Rate by Credit Score</h3>
<p>Next, we will look at heatmap to understand the interaction between Interest Rate and Credit Score.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/cs_ir_int-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As seen from the above chart, it can be clearly seen that the customers with high credit score are immune to interest rates but as we go below credit score of 727, their loan repayment rate starts to go down across different interest rate bins. Based on this, we don’t see any interaction between Credit Score and Interest Rate.</p>
</section>
<section id="heatmap-of-employment-status-by-grade-sub-grade" class="level3">
<h3 class="anchored" data-anchor-id="heatmap-of-employment-status-by-grade-sub-grade">Heatmap of Employment Status by Grade Sub-grade</h3>
<p>Finally, let’s look at heatmap to understand the interaction between Employment Status by Grade Sub-grade.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="01_EDA_files/figure-html/es_gs_int-1.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="1152"></p>
</figure>
</div>
</div>
</div>
<p>As seen from the above chart, it can be clearly seen that the dominating factor is employment status and loan repayment rate stays within a given employment status. In employment status, there seems to be minor interaction with Grade Sub-grade. But it can be ignored.</p>
<p>We are done with our EDA! Now, let’s move to feature engineering and variable selection in next step.</p>
</section>
</section>

</main>
<!-- /main column -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp('/' + window.location.host + '/');
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>